# ghc does not emit debug information
%global debug_package %{nil}

Name:           scripts-static-cat
Version:        0.0
Release:        0.%{scriptsversion}%{?dist}
Summary:        static-cat for scripts.mit.edu

Group:          Applications/System
License:        GPL
URL:            http://scripts.mit.edu/
Source0:        %{name}.tar.gz
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
# fedora ghc archs:
ExclusiveArch:  %{ix86} x86_64 ppc alpha
BuildRequires:  ghc, ghc-rpm-macros, ghc-cgi-devel >= 3001.1.8, ghc-MonadCatchIO-mtl-devel, ghc-unix-handle-devel

%description
static-cat is a binary for serving static content on scripts.mit.edu.


%prep
%setup -q -n %{name}


%build
%cabal_configure --ghc
%cabal build


%install
rm -rf $RPM_BUILD_ROOT
%cabal_install


%clean
rm -rf $RPM_BUILD_ROOT


%files
%defattr(-,root,root,-)
%attr(755,root,root) %{_bindir}/static-cat


%changelog
* Sun Mar 14 2010 Anders Kaseorg <andersk@mit.edu> - 0.0-0
- initial packaging for Fedora automatically generated by cabal2spec
